{"info":{"_postman_id":"c509075a-b3b6-4b7a-9fbc-4699e80a18b6","name":"IMMRequest","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Requests","item":[{"name":"Requests","item":[{"name":"GetRequests","event":[{"listen":"prerequest","script":{"id":"68635295-3d94-4990-949d-02ec2d89f2a1","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}}],"_postman_id":"2af4d99d-2933-418d-a8c8-40d367e5a215","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"},{"key":"username","value":"{{user}}","type":"text"}],"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"CreateRequest","_postman_id":"e1b0b919-be28-4e19-b590-915a8087f208","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"text/j","type":"text","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"GetARequest","_postman_id":"4e0190b5-14aa-40fa-a22d-035a2c1de5df","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"{{token}}","disabled":true},{"key":"Content-Type","type":"text","value":"application/json"},{"key":"username","type":"text","value":"{{user}}","disabled":true}],"url":{"raw":"{{server}}/api/requests/3","host":["{{server}}"],"path":["api","requests","3"]}},"response":[]},{"name":"UpdateRequest","event":[{"listen":"prerequest","script":{"id":"32a9fc35-b475-4eae-84f3-75e7853251dc","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}}],"_postman_id":"06ad6dfb-1899-4d2f-9905-0085f8b2a4f4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","value":"{{user}}","type":"text"},{"key":"Authorization","value":"{{token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"newState\": \"string\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/1","host":["{{server}}"],"path":["api","requests","1"]}},"response":[]}],"_postman_id":"1520c81d-522c-40f4-960e-bfce62f7caeb","_postman_isSubFolder":true},{"name":"Tests","item":[{"name":"CreateRequestTests","item":[{"name":"[400] - No Details","event":[{"listen":"prerequest","script":{"id":"757bfe29-15ff-4741-a3f3-582063dfced8","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"fa07a3c7-9a70-404e-875e-34d204ab0117","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json(); \r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Please input some details.\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"81271c16-0cfe-40b5-905c-174f0bb6ec77","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - No Phone","event":[{"listen":"prerequest","script":{"id":"349520fd-4d12-4b95-8839-9c59c7fa110f","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"9f4a38a9-a392-432f-a611-c2c5dfc612d9","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Please provide a phone number\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"951de1e4-5a3a-4b2e-a3d3-3b5577177edb","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Missing Required Fields","event":[{"listen":"prerequest","script":{"id":"4fe393aa-cdba-4cff-b4cd-a872c93c2403","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"d542f21f-e01a-4121-ac04-341f201929c2","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Required fields Nro de Movil should have been provided\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"54bfa248-746d-4e35-9307-2dc6c25a94ed","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Additional field not in range","event":[{"listen":"prerequest","script":{"id":"f75ca11a-d2c4-4caf-ad09-fab8aa66c280","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"bc759490-7a35-41b0-b135-52f47594f479","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Date value 09-05-2120 is not in range [11-05-2010,11-05-2030]\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"e970e9f9-7c06-4669-bdba-9faf80b08a86","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2120\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Additional Field Wrong Type","event":[{"listen":"prerequest","script":{"id":"7742d625-f314-4dd1-8be8-c3c39e7a34c4","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"dcc70668-0989-4682-97ba-b601da353784","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"value 'esto deberia ser nun numero' for field with name Nro de Movil cannot be read as an integer\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"3949f444-69d6-43fa-ad57-b6ce5465c9aa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"esto deberia ser nun numero\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Repeated Additional Field","event":[{"listen":"prerequest","script":{"id":"e847d509-3d95-4004-bb2c-4eda78fa4953","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"e7ce606a-d792-408b-bda0-4904b80adf9b","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"The entered field names(Nro de Movil) are repeated.\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"ee9172fd-fdfd-4d85-be71-a3615bb493f1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - TypeId should be a number","event":[{"listen":"prerequest","script":{"id":"ef69d8ca-e262-4388-8d5c-6951d0465f98","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"7c63a785-bfd6-4745-b0da-536109e25090","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"4fc8f784-db4c-432b-a833-3b238c9f78a7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": \"1\",\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Non existent TypeId","event":[{"listen":"prerequest","script":{"id":"08dc4883-f879-4c8f-b390-42bf22384db0","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"80620718-6894-419c-8071-b33369aeafb4","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"No type with id=10000 exists\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"08c6525c-fbf0-404f-97eb-5ea135340c8b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 10000,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - No TypeId","event":[{"listen":"prerequest","script":{"id":"09d4e3d6-13e1-448e-bbcc-67be71df44e5","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"28b260fd-7382-4956-9329-a4e5caa82acd","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"No type with id=-1 exists\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"a9c67750-c469-41ff-95ae-06bacd26aa20","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Phone Wrong Format","event":[{"listen":"prerequest","script":{"id":"c6f4ac56-bc2e-419a-b67b-4ae27e2352ee","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"3485ed5c-240e-4515-a812-ae441982024d","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"The phone format is not valid\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"aa5aeb2e-3ec9-4c39-8a29-1bfb4ed28506","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555@@@@555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] -  2001 Length Details","event":[{"listen":"prerequest","script":{"id":"8b903779-d6c2-4c9d-a44d-6b6c5c939c3a","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"5c553d19-4216-4b8c-aacf-e0f93370cfed","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"The detail is too long\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"a79424ca-6d05-4961-801b-c0f80aeb2a40","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"K8IS7U0SY15305NDIRF8YUYLLCEMJGCGS4R5TGWDECVML43RKX60TY7WV9NBM64U060JTMAD7FKSP4FWNGQ5I3ZLHRMSJYPSWBUL3BUE2OVN5SWELYYE728UOM603ZP6J51QMD715IW4AT9WV9AULEXJ7JNLMPMWU45AMVDQ8WYNWESVFCKZZFS97RGH7N37ML5F55WGB5KLGAU0YJ5GZTPOBBA8ND7CGW45WMXDMIBW6BFHA2OOT82B4E7HHKDPDVMKC3UD5NZS9Y35POYKLFO4YQTTJFONJJW3WEZ2LNUJSFVB1JKHDK865NFGXJNCO450CQ7KPF0XIHV0BC142Q53196IUV4UUDBX5BRCXLIN80IDAKISN2SO2MSLWENLYY7E8JREMQVZZNPA0OS2ZVBXXVD44ZHHZH1EKVCP1YISWH9K5686E1UGEXH900YZV95KMQDOAE90MBURFF53B7RMMVGCLDJO486GBIOERSN6L0DQSOMA5HF9A9M92W9AD6ZEPSXBSCL0ARZ863RPJMG28ESK5BPC9MKRT66IOXQFY785YTC7679KZ6K6P9YD3X56587BN2SA26ASCA4KXNGEGZOXN0OCYI3SK6EN5G5TB3BBNFG70E0R6944QVQX2RNCQW31MM2Q8KN4MMP3PGVBK252KCG7SYBNGSS58VMEJJX45VXFZF1Q6N9QA3VMRZQMV4H601IMAWOWZU03YNMIVDQLKFRRL1A5OZ3MB8RGD6NSM290KJUCDNWHWLJ5F8844R7OB9STYYOBG6WTWDFL486B9GW9SF45H3KJ9J243C0U657CUFDOSYL60B3VR471J5E557OFEEJW9STG3K34VP23ICRKO0773A7TW63CX59EUBYL0BX1WSD6SEGYHIYQN2IW8YS2F7RVW4429TDQ3VMFUE8T3B5SB9UO1PR5PFFPVLEM002KXZ679ENB1OEHDR59X8185ZVCYWUF813AHYV1LJLP3X2U9K3MZ4OQ0LA2TOP41WPGKMDOT8GJ3IH1VA8ZW8PAD7N4FB3JS1RHW53RK79CFZQN5FJQJH7ITIY97MCOT4T5VL5W5NNOLU26HJGCXN51LQE4M76KLW445GQU0ZZEJX5KXV89KYML4GVX5HBIPEGZ5W4GKS1XYGDVCHLNYKSTPEZRXN76X33GIXWNDO8IYIVVM8SJC63CD5XDSCX1WV2VVNBGGVL7N5T8NILF2FR6JHULBARVLGP1RQ1G26F6N4MNFQ9SIBOQ53AYIWD3CCN8NBT5AINB91YH42H3C0CGUD25DQM4FW6ODVLGA49OUR5KMT8P52HDQ15AG9BULC1R0M4WHJ0GUXPS6ESXISU6Y0RUCVHABTWAAFWKHCLOJ2A73SHD885JM9229AOJES4UNWEZ59J1F7DE53GN4GWGZHMX9VJUGQUEZ5UTKKCV81ASCLHKUNUZAO2MFEFPJK540G6G0VQCPQHCO0YTI17I8WBUEWQ3UVA6YMV4WIS3RSPAF6IJ744V09VPX3W3J1WX8A4ABE5W2B3CW4DWJK2L5H47DQTFURJEG3VZ2SSVXGRSZPUSX8A0ZB4SLZHD8BCLNUBLKFS6NGQRIICNWAIBPMWH3K82GBXG0GBX8ZJGDJMHVA0ESGIXUY2ERHZ958614ZW1QZGBZAOHRMB0AW4SSNSLR6Y46US25N1DKVQ807Y7MACF9V9049TD0OV9DU0O9A77UL828QZV9TO3Q1CYZZMN3RAZBDY9QZ7487B17UH59TN2J1VNQG4HY1TBKH10LJPNLYLU3FM1K6EXU8HLP9211YWSVG5F7T3VCVPK7CPPUDQ71CPDJE9YGV6TDYG0HCE82EEWFTRTXVMF3IVJT6AHS79ZP3QYDI2S7ED4GHK91A3HJZDFSZU2T8GB8V7I7ZMMWHFVUOC0MXHRTIGVW9K7MZZM914CLRGLFFW81RR8FKWRKNQFAJZV3N91YET3WLUNRT9L25Q6WN0JY0CZNLSS3\",\n\t\"email\": \"email3@citizen.com\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - No Email","event":[{"listen":"prerequest","script":{"id":"436c4cf1-6384-41dc-9bed-c1131ccd3cae","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"389e632a-a488-4907-b058-5c9fff7801fa","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Please type an email\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"d154c241-b9ad-40f3-998c-585113b2a366","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[400] - Bad Email Format","event":[{"listen":"prerequest","script":{"id":"e6a295eb-5a76-4c6b-8df4-c605b64ad993","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"519ce9a7-7fc7-45c9-bdfb-0c887b580616","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"The email format is not valid\")\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"2f97a1ad-2b13-4e90-9615-fdef43a77378","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"some details\",\n\t\"email\": \"email\",\n\t\"name\": \"citizens name\",\n\t\"phone\": \"5555-555-555\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"111111\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]},{"name":"[200] - Create Request","event":[{"listen":"test","script":{"id":"86e1e81f-02ef-4f3c-baa9-b00b4f1d4e5a","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Should return the new id\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('id', 'text')\r","});\r","\r","pm.test(\"Id number\", function () {\r","    const num = pm.response.json().id;\r","    pm.expect(num).to.be.greaterThan(0)\r","});\r","\r",""],"type":"text/javascript"}}],"_postman_id":"9d1b31a3-119e-4b94-8775-178bed769dbe","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"text/j","disabled":true}],"body":{"mode":"raw","raw":"{\n\t\"details\": \"creation details\",\n\t\"email\": \"email8@citizen.com\",\n\t\"name\": \"citizen 8\",\n\t\"phone\": \"9999-888\",\n\t\"typeId\": 1,\n\t\"additionalFields\" :[\n\t\t{\"name\": \"Nro de Movil\", \"value\":\"888998\"},\n\t\t{\"name\": \"Fecha y hora\", \"value\":\"9/5/2020\"}\n\t]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]}],"_postman_id":"379959c7-a099-4b99-bfc2-1497dfd7054a","_postman_isSubFolder":true},{"name":"GetRequestTests","item":[{"name":"[200] - GetRequests","event":[{"listen":"prerequest","script":{"id":"da4251b4-466b-46fa-a137-9d5695203bb6","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"0bd875bf-223f-4d3e-9bb2-c06eb25ee335","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.be.an('array')\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    const first = res.first();\r","    pm.expect(first).to.have.keys('requestId', 'requestedBy','status','details')\r","});\r","\r","\r",""],"type":"text/javascript"}}],"_postman_id":"b5b24c04-4b80-41d4-91d3-525453a3bd2d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"},{"key":"username","value":"{{user}}","type":"text"}],"url":{"raw":"{{server}}/api/requests","host":["{{server}}"],"path":["api","requests"]}},"response":[]}],"_postman_id":"a3f76544-d874-4d17-8ec0-eecbe556b634","_postman_isSubFolder":true},{"name":"UpdateRequestTests","item":[{"name":"[404] Update a request that doesnt exist","event":[{"listen":"prerequest","script":{"id":"71c610e0-7a3f-4828-9e70-a4d209bc0341","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"b980bd5b-4508-4898-ada1-3e96ae50ba56","exec":["pm.test(\"Status code is 404\", function () {\r","    pm.response.to.have.status(404);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Request with id 9999 could not be found.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"4507161c-da6f-494f-8db1-4ec9847c2344","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","type":"text","value":"{{user}}"},{"key":"Authorization","type":"text","value":"{{token}}"}],"body":{"mode":"raw","raw":"{\r\n  \"newState\": \"inreview\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/9999","host":["{{server}}"],"path":["api","requests","9999"]}},"response":[]},{"name":"[400] Updating a negative Id request","event":[{"listen":"prerequest","script":{"id":"2675247b-f081-4cb5-8253-45b8290f99df","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"a97040e0-8e1f-47c8-95ec-185d2ec3e89d","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"id -1 is invalid.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"c7af6afc-ca86-47ff-b8c3-f12e5d0df560","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","value":"{{user}}","type":"text"},{"key":"Authorization","value":"{{token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"newState\": \"done\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/-1","host":["{{server}}"],"path":["api","requests","-1"]}},"response":[]},{"name":"[400] Not providing a new state","event":[{"listen":"prerequest","script":{"id":"4fdcd9e9-4a7b-4387-9520-083601ab3034","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"a53d1d06-430f-40cd-9a8e-09754f307e68","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"state '' is not a valid state.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"e8629824-2c70-41bf-b514-d3818a775443","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","value":"{{user}}","type":"text"},{"key":"Authorization","value":"{{token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/1","host":["{{server}}"],"path":["api","requests","1"]}},"response":[]},{"name":"[400] Updating to a not available state","event":[{"listen":"prerequest","script":{"id":"4708e55c-dacd-49f8-866c-5cf8f1d12932","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"ea4feb8f-89b5-4b66-a413-b007d12b97c4","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"can't update a created request to 'Done', possible options are: InReview\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"ed0a6687-3577-4175-893d-247afd1c8967","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","type":"text","value":"{{user}}"},{"key":"Authorization","type":"text","value":"{{token}}"}],"body":{"mode":"raw","raw":"{\r\n  \"newState\": \"done\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/1","host":["{{server}}"],"path":["api","requests","1"]}},"response":[]},{"name":"[400] Unauthorized","event":[{"listen":"prerequest","script":{"id":"01864811-2528-401a-86cb-5d579669a044","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"be87c24e-335e-415c-861d-2b41a0e7167b","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Token is required\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"aa28f261-1f9f-4040-82ad-e70158c01063","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","type":"text","value":"{{user}}","disabled":true},{"key":"Authorization","type":"text","value":"{{token}}","disabled":true}],"body":{"mode":"raw","raw":"{\r\n  \"newState\": \"string\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/1","host":["{{server}}"],"path":["api","requests","1"]}},"response":[]},{"name":"[400] Invalid State name","event":[{"listen":"prerequest","script":{"id":"668d5e33-b951-4bb9-b8f9-9b70534595aa","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"41a8d6eb-7eaa-4c4b-a03b-d03a296ef4fd","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"state 'string' is not a valid state.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"0535573f-ecd2-4ce1-a893-7675b48afb38","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"username","type":"text","value":"{{user}}"},{"key":"Authorization","type":"text","value":"{{token}}"}],"body":{"mode":"raw","raw":"{\r\n  \"newState\": \"string\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/requests/1","host":["{{server}}"],"path":["api","requests","1"]}},"response":[]}],"_postman_id":"cf52120e-3fff-42c2-9d28-999ac2f68426","_postman_isSubFolder":true}],"_postman_id":"513c849c-e095-40d0-b7a9-fb44e80248e4","_postman_isSubFolder":true}],"_postman_id":"e397123b-2ed1-4b54-ba01-6c9c2f162889"},{"name":"Types","item":[{"name":"Requests","item":[{"name":"CreateType","event":[{"listen":"prerequest","script":{"id":"b2c0f5df-b7f7-4843-9785-5afed23c1ecf","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}}],"_postman_id":"406f8972-802d-4a46-a471-e33c4d79d81f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"username","value":"{{user}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"topicId\": 1,\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"DeleteType","event":[{"listen":"prerequest","script":{"id":"f1041dee-5aac-4deb-8824-664c92fde7a3","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}}],"_postman_id":"fa1198fd-bc6b-4c9a-b7e3-cbb4e7d7ad2a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"username","value":"{{user}}","type":"text"},{"key":"Content","value":"","type":"text"}],"url":{"raw":"{{server}}/api/types/2","host":["{{server}}"],"path":["api","types","2"]}},"response":[]}],"_postman_id":"46b20623-5f6e-4bbe-b8d9-42ffb4664ace","_postman_isSubFolder":true},{"name":"Tests","item":[{"name":"RemoveTypeTests","item":[{"name":"[400] Unauthorized","event":[{"listen":"prerequest","script":{"id":"0d44b46d-c3c4-4479-acec-8e8ecbed0d72","exec":[""],"type":"text/javascript"}},{"listen":"test","script":{"id":"32a42fdd-adc5-449e-8d6e-51b1721807c8","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Token is required\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"8f86a2ea-1edc-4c26-aa68-f073727d30f4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","type":"text","value":"{{token}}","disabled":true},{"key":"username","type":"text","value":"{{user}}","disabled":true},{"key":"Content","type":"text","value":""}],"url":{"raw":"{{server}}/api/types/2","host":["{{server}}"],"path":["api","types","2"]}},"response":[]},{"name":"[400] Cant delete non existing type","event":[{"listen":"prerequest","script":{"id":"ad78ea47-7417-4f30-b1d4-33d2834f8aa3","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"8df060bc-a7b4-4024-b2c3-b95cece5277a","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"No type with id exists 22225\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"6b2cb06f-3140-4671-b22a-68b5f4a90a3f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"},{"key":"Content","type":"text","value":""}],"url":{"raw":"{{server}}/api/types/22225","host":["{{server}}"],"path":["api","types","22225"]}},"response":[]},{"name":"[400] cant delete negative number","event":[{"listen":"prerequest","script":{"id":"1e0f62f4-13ce-4a4f-8d73-d526c1e09407","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"984372f6-8d3b-44fe-896f-2452f4568c49","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"typeId \\\"-2\\\" is invalid.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"9c96bcfa-dd05-4709-82ab-bb12652280ed","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"},{"key":"Content","type":"text","value":""}],"url":{"raw":"{{server}}/api/types/-2","host":["{{server}}"],"path":["api","types","-2"]}},"response":[]}],"_postman_id":"34786f50-0221-464a-a2ee-6ae9d721cb0e","_postman_isSubFolder":true},{"name":"CreateTypeTest","item":[{"name":"[400] Wrong AF type specified","event":[{"listen":"prerequest","script":{"id":"89b69fd7-8ad6-4a90-b98a-aaa3b97e9265","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"1058f1ba-e44d-4eaa-b512-af57c573ce64","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"value 'text' cannot be read as an integer\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"2d818dda-7fd3-430c-aa28-bba2e4ddc58f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"topicId\": 1,\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"text\"\r\n        },\r\n        {\r\n          \"value\": \"text2\"\r\n        }]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"[400] Bad Type in Additional Field","event":[{"listen":"prerequest","script":{"id":"4c2e5492-637a-4246-a199-289758a1237c","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"721236b1-3898-465b-a07b-2a82ed0fd132","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"tipoValor are not valid field types\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"12068497-7a84-4062-817f-342fa4c06fe7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"topicId\": 1,\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"tipoValor\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"[400] Bad Range","event":[{"listen":"prerequest","script":{"id":"cd7faf02-b47b-4972-a18c-b85f77882d57","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"fbcf54f3-f250-4364-9dd2-06e2e78dab3c","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Integer fields in range should be in ascending order\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"59bb8879-57a3-447a-9294-9ed73303dfb4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"topicId\": 1,\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"8\"\r\n        },\r\n        {\r\n          \"value\": \"6\"\r\n        }]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"[400] Duplicated Additional Fields","event":[{"listen":"prerequest","script":{"id":"d6db8627-e6c3-4efc-9cec-40bd037e51e4","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"d9220064-3503-4ab9-af31-31fbf67f252d","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Please input some details.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"d3d17a30-a222-4192-aefd-29aacda9f75b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"topicId\": 1,\r\n  \"additionalFields\": \r\n  [\t{\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }]\r\n    },\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }]\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"[400] Non existing TopicId","event":[{"listen":"prerequest","script":{"id":"49071d3c-4076-4885-8819-e8791df8212d","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"e48cae01-8c29-4362-864e-105459e82343","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"No topic with id 99999999 exists.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"765473f5-f96b-42ad-9499-383cacdb4946","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"topicId\": 99999999,\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"[400] No TopicId","event":[{"listen":"prerequest","script":{"id":"5d76e90e-6203-4eaf-896c-ae4150be50b9","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"b5dc1913-52c9-42cd-a565-eb82769fd26e","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"topicId 0 is invalid.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"8b06c33b-66d2-4e52-9574-e398248d558f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"newtype\",\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]},{"name":"[400] No type name","event":[{"listen":"prerequest","script":{"id":"ff89ad61-f464-4c8c-add6-7889841f82d9","exec":["const loginRequest = {\r","    url: \"http://localhost:5000/api/Sessions\",\r","    method: 'POST',\r","    header: 'Content-Type:Application/json',\r","    body: {\r","        mode: 'raw',\r","        raw: JSON.stringify({\r","            email: pm.environment.get(\"user\"),\r","            password: pm.environment.get(\"password\")\r","        })\r","    }\r","};\r","pm.sendRequest(loginRequest, function (err, res) {\r","    if (!err) {\r","        let token = res.json().token;\r","        console.log(res.json());\r","        pm.environment.set(\"token\", token)\r","\r","    } else { console.log(err) }\r","\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"8c1f40c2-6295-471f-ac33-5025bc915763","exec":["pm.test(\"Status code is 400\", function () {\r","    pm.response.to.have.status(400);\r","});\r","\r","pm.test(\"Error message\", function () {\r","    const res = pm.response.json();\r","    pm.expect(res).to.have.keys('error')\r","});\r","\r","pm.test(\"Error text\", function () {\r","    const msg = pm.response.json().error;\r","    pm.expect(msg).to.eql(\"Provided type Name cannot be empty.\")\r","});\r",""],"type":"text/javascript"}}],"_postman_id":"f97fc9b9-8dfa-4125-9d76-3b42c69aa977","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"username","value":"{{user}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"topicId\": 1,\r\n  \"additionalFields\": [\r\n    {\r\n      \"name\": \"campo\",\r\n      \"fieldType\": \"int\",\r\n      \"isRequired\": true,\r\n      \"range\": [\r\n        {\r\n          \"value\": \"6\"\r\n        },\r\n        {\r\n          \"value\": \"7\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/types","host":["{{server}}"],"path":["api","types"]}},"response":[]}],"_postman_id":"82235ccd-391f-44ff-a390-7278c53a3864","_postman_isSubFolder":true}],"_postman_id":"d3a39143-b115-4b57-b6e5-8db6de315e53","_postman_isSubFolder":true}],"_postman_id":"8f37049d-7e08-4abb-8af4-e14e82bb1941"},{"name":"Admins","item":[{"name":"Requests","item":[{"name":"GetAll Admins","_postman_id":"a5cf6040-021c-4152-ae6f-54267648ab43","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"username","value":"{{user}}","type":"text"}],"body":{"mode":"formdata","formdata":[],"options":{"formdata":{}}},"url":{"raw":"{{server}}/api/admins","host":["{{server}}"],"path":["api","admins"],"query":[{"key":"Authorization","value":"{{token}}","type":"text","disabled":true},{"key":"username","value":"{{user}}","type":"text","disabled":true}]}},"response":[]},{"name":"Update Admin","_postman_id":"f12766fd-3240-40ed-93d7-3e0dcee45544","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Authorization","value":"{{token}}","type":"text"},{"key":"username","value":"{{user}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"password\": \"dadasdads\",\r\n  \"name\": \"un nombre\",\r\n  \"email\": \"mail@pija.com\",\r\n  \"phoneNumber\": \"46546489\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/admins/1","host":["{{server}}"],"path":["api","admins","1"]}},"response":[]},{"name":"Delete Admin","_postman_id":"2d3a90ab-4949-400b-9aca-af613c0a0a28","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"url":{"raw":"{{server}}/api/admins/8","host":["{{server}}"],"path":["api","admins","8"]}},"response":[]},{"name":"Create Admin","_postman_id":"77fec936-5bd0-4e53-bc63-cf43c4c8d898","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","type":"text","value":"{{token}}"},{"key":"username","type":"text","value":"{{user}}"}],"body":{"mode":"raw","raw":"{\r\n  \"password\": \"pa$$\",\r\n  \"name\": \"admin doss\",\r\n  \"email\": \"mail2@admin.com\",\r\n  \"phoneNumber\": \"2222-2222\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{server}}/api/admins/","host":["{{server}}"],"path":["api","admins",""]}},"response":[]}],"_postman_id":"c8c46b39-c598-4b7d-8d9c-1121a2a50548","_postman_isSubFolder":true}],"_postman_id":"0a11e8bf-a0e0-43d3-9e0e-156c23c96258"}]}